<html>
	<head>
		<script src="desktop_notifier.js"></script>
		<title>Google DevFest Countdown Options</title>
		<link rel="stylesheet" href="options.css" />
	</head>

	<body onload="loadOptions();init_map();">
		<script src="analytics.js"></script>
		<script src="options.js"></script>
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
		<div id="header">
			<h1 class="left">Google DevFest Countdown Options</h1>
			<span class="right" id="feedback"><a href="https://chrome.google.com/extensions/detail/cpaokbabilmdndkckllokmijokbaoong/" target="_blank">Feedback</a></span>
		</div>
		<div class="section-header first">Notification Options</div>
		<p>Remind you with dekstop notification every fifteen seconds?<p>
		<div>
			<input type="checkbox" id="checkboxEnableDesktopNotification" onmouseout="checkDesktopNotification();" onclick="enableDesktopNotification();">Show Desktop Notification</input>
		</div>
		<div class="section-header first">Venue Options</div>
		<p>Going to which Google DevFest event?<p>
		Select City:
		<select id="cityComboBox" onchange="update_map(); return markDirty();">
			<option value="sydney_wave">Google Sydney, Australia - Wave</option>
			<option value="sydney_apps">Google Sydney, Australia - Apps</option>
			<option value="sydney_chrome">Google Sydney, Australia - Chrome</option>
			<option value="sydney_social">Google Sydney, Australia - Social</option>
			<option value="sydney_geo">Google Sydney, Australia - Geo</option>
			<option value="israel">Airport City, Israel - Chrome</option>
			<option value="manila">Manila, Philippines - Chrome/HTML5, Maps, Apps, Social</option>
			<option value="singapore">Singapore, Singapore - Chrome/HTML5, Maps, Apps, Social</option>
			<option value="kuala_lumpur">Kuala Lumpur, Malaysia - Chrome/HTML5, Maps, Apps, Social</option>
		</select>
		<div id="map_canvas"></div>
		<div id="footer">
			<button class="rounded_buttton" id="buttonSave" style="font-weight:bold" onclick="saveOptions(); update_map(); trackButton(buttonSaveName);">Save</button>
			<button class="rounded_buttton" id="buttonCancel" onclick="loadOptions(); trackButton(buttonCancelName);">Cancel</button>
			<button class="rounded_buttton" id="buttonRestoreDefault" onclick="eraseOptions(); trackButton(buttonRestoreDefaultName);">Restore default</button>
		</div>

		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
		<script>
		var map;
		function init_map() {
			var latlng = new google.maps.LatLng(3.0455328234928123, 101.68960332870483);
			var venueMapOptions = {
			  zoom: 15,
			  center: latlng,
			  mapTypeId: google.maps.MapTypeId.HYBRID,
			  scaleControl: true,
			  mapTypeControlOptions: {
				style: google.maps.MapTypeControlStyle.DROPDOWN_MENU,
				position: google.maps.ControlPosition.TOP_LEFT
			  },
			  navigationControlOptions: {
				position: google.maps.ControlPosition.TOP_RIGHT
			  }
			};
			map = new google.maps.Map(document.getElementById("map_canvas"), venueMapOptions);
		}
		
		function update_map()
		{
			var select = document.getElementById("cityComboBox");
			var cityNameIndex = select.children[select.selectedIndex].value;
			localStorage["favCity"] = cityNameIndex;
			if(cityNameIndex == "sydney_wave"
			|| cityNameIndex == "sydney_apps"
			|| cityNameIndex == "sydney_chrome"
			|| cityNameIndex == "sydney_social"
			|| cityNameIndex == "sydney_geo")
			{
				moveToSydney();
			}
			else if(cityNameIndex == "israel")
			{
				moveToIsrael();
			}
			else if(cityNameIndex == "manila")
			{
				moveToManila();
			}
			else if(cityNameIndex == "singapore")
			{
				moveToSingapore();
			}
			else if(cityNameIndex == "kuala_lumpur")
			{
				moveToKualaLumpur();
			}
			else
			{
				moveToKualaLumpur();
			}
		}
		
		function moveToSydney() {
			// Google Sydney Office, Google Australia Pty Ltd., Level 5, 48 Pirrama Road, Pyrmont, NSW 2009, Australia.
			var latlng = new google.maps.LatLng(-33.866976934111065, 151.1958646774292);
			map.setCenter(latlng);
		}
		
		function moveToIsrael() {
			// Avenue Convention and Events Center, HaSharon St., Airport City, Israel.
			var latlng = new google.maps.LatLng(32.061508, 34.778401);
			map.setCenter(latlng);
		}
		
		function moveToManila() {
			// TechnoHub, Commonwealth Avenue, UP Campus, Quezon City, Manila, Philippines.
			var latlng = new google.maps.LatLng(14.657229308041812, 121.05583906173706);
			map.setCenter(latlng);
		}
		
		function moveToSingapore() {
			// Genexis Theatre & Lounge, Level 5, Connexis Tower, Fusionopolis, 1 Fusionopolis Way, Singapore 138632.
			var latlng = new google.maps.LatLng(1.299362, 103.788685);
			map.setCenter(latlng);
		}
		
		function moveToKualaLumpur() {
			// Technology Park Malaysia, Ground Floor, Enterprise 4, Bukit Jalil, 57000 Kuala Lumpur, Malaysia
			var latlng = new google.maps.LatLng(3.0455328234928123, 101.68960332870483);
			map.setCenter(latlng);
		}
		</script>
		<div id="saveStatus">Options saved. Options will take effect automatically within fifteen seconds.</div>
	</body>
</html>